# ---------------------------
# Nginx main user and worker configuration
# ---------------------------
user nginx;                  # Run Nginx worker processes as 'nginx' user
worker_processes auto;       # Automatically determine number of worker processes based on CPU cores

# Error log configuration
error_log /var/log/nginx/error.log warn;
pid       /var/run/nginx.pid;

# ---------------------------
# Events block
# ---------------------------
events {
    worker_connections 1024; # Maximum simultaneous connections per worker
}

# ---------------------------
# HTTP block (main web server settings)
# ---------------------------
http {
    include       /etc/nginx/mime.types;         # Map file extensions to MIME types
    default_type  application/octet-stream;      # Default MIME type

    sendfile        on;                          # Enable sendfile for efficient file serving
    keepalive_timeout 65;                        # Keep connections alive for 65 seconds

    # Include all virtual host configurations
    include /etc/nginx/conf.d/*.conf;
}
